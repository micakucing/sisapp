(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{13460:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return a(26864)}])},22013:(e,s,a)=>{"use strict";a.d(s,{A:()=>d});var r=a(37876),n=a(14232),i=a(14e3),l=a(98467),t=a(20485);function d(e){let{allowedRoles:s,children:a}=e,d=(0,i.useRouter)(),[c,h]=(0,n.useState)(!0),[u,o]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{(async()=>{let e=l.j.currentUser;if(!e)return d.push("/");let a=(0,t.H9)(l.db,"users",e.uid),r=(await (0,t.x7)(a)).data();if(!(null==r?void 0:r.role)){alert("Role belum ditentukan. Hubungi admin!"),d.push("/");return}s.includes(r.role)?o(!0):"siswa"===r.role?d.push("/student/dashboard"):d.push("/"),h(!1)})()},[d,s]),c)?(0,r.jsx)("p",{children:"Loading..."}):u?(0,r.jsx)(r.Fragment,{children:a}):null}},26864:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var r=a(37876),n=a(14232),i=a(20485),l=a(98467),t=a(22013),d=a(40482);function c(){let[e,s]=(0,n.useState)({siswa:0,guru:0,kelas:0}),a=async()=>{let e=(0,i.P)((0,i.rJ)(l.db,"users"),(0,i._M)("role","==","siswa")),a=await (0,i.GG)(e),r=(0,i.P)((0,i.rJ)(l.db,"users"),(0,i._M)("role","==","guru")),n=await (0,i.GG)(r),t=await (0,i.GG)((0,i.rJ)(l.db,"kelas"));s({siswa:a.size,guru:n.size,kelas:t.size})};return(0,n.useEffect)(()=>{a()},[]),(0,r.jsx)(t.A,{allowedRoles:["admin","guru"],children:(0,r.jsxs)("div",{className:"d-flex flex-column flex-lg-row",children:[(0,r.jsx)("div",{className:"col-lg-2 p-0",children:(0,r.jsx)(d.A,{})}),(0,r.jsxs)("div",{className:"container py-5",children:[(0,r.jsx)("h2",{className:"mb-4",children:"Dashboard Admin/Guru"}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4 mb-3",children:(0,r.jsxs)("div",{className:"card text-center shadow-sm p-3",children:[(0,r.jsx)("h5",{children:"Siswa"}),(0,r.jsx)("h3",{children:e.siswa})]})}),(0,r.jsx)("div",{className:"col-md-4 mb-3",children:(0,r.jsxs)("div",{className:"card text-center shadow-sm p-3",children:[(0,r.jsx)("h5",{children:"Guru"}),(0,r.jsx)("h3",{children:e.guru})]})}),(0,r.jsx)("div",{className:"col-md-4 mb-3",children:(0,r.jsxs)("div",{className:"card text-center shadow-sm p-3",children:[(0,r.jsx)("h5",{children:"Kelas"}),(0,r.jsx)("h3",{children:e.kelas})]})})]})]})]})})}},40482:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});var r=a(37876),n=a(48230),i=a.n(n),l=a(89099),t=a(10323),d=a(14232);function c(){let e=(0,l.useRouter)();(0,t.xI)();let[s,a]=(0,d.useState)(!1),[n,c]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{let e=()=>{c(window.innerWidth<992),window.innerWidth>=992&&a(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)("button",{style:{position:"absolute",right:"0px"},className:"btn btn-dark m-2",onClick:()=>a(!s),children:"â˜° Menu"}),(0,r.jsxs)("div",{className:"bg-dark text-light position-fixed vh-100 p-3 transition",style:{width:"220px",zIndex:1e3,top:"0px",left:s?"0":"-240px",transition:"left 0.3s ease"},children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("h5",{children:"SIS Dashboard"})}),(0,r.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:[{name:"Dashboard",href:"/dashboard"},{name:"Kelas",href:"/classes"},{name:"Siswa",href:"/admin/students/siswa"},{name:"Absensi",href:"/attendance"},{name:"Rekap",href:"/reports"}].map(s=>(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(i(),{href:s.href,className:"nav-link text-light ".concat(e.pathname===s.href?"active bg-primary":""),children:s.name})},s.href))})]})]})}}},e=>{e.O(0,[0,636,593,792],()=>e(e.s=13460)),_N_E=e.O()}]);