(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{5840:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/students/siswa",function(){return a(6914)}])},6914:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(37876),n=a(14232),i=a(20485),l=a(98467),r=a(40482),c=a(48230),d=a.n(c);function m(){let[e,s]=(0,n.useState)([]),[a,c]=(0,n.useState)(""),[m,o]=(0,n.useState)(1),[h]=(0,n.useState)(6),x=async()=>{s((await (0,i.GG)((0,i.rJ)(l.db,"students"))).docs.map(e=>({id:e.id,...e.data()})))};(0,n.useEffect)(()=>{x()},[]);let u=async e=>{confirm("Apakah yakin ingin menghapus siswa ini?")&&(await (0,i.kd)((0,i.H9)(l.db,"students",e)),x())},f=e.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.nis.toLowerCase().includes(a.toLowerCase())),p=m*h,w=f.slice(p-h,p),j=Math.ceil(f.length/h);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"d-flex flex-column flex-lg-row",children:[(0,t.jsx)("div",{className:"col-lg-2 p-0",children:(0,t.jsx)(r.A,{})}),(0,t.jsxs)("div",{className:"flex-grow-1 p-3",children:[(0,t.jsx)("h2",{className:"mb-4",children:"Daftar Siswa"}),(0,t.jsx)(d(),{href:"/admin/students/create",className:"btn btn-primary mb-4",children:"Tambah Siswa"}),(0,t.jsx)("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start mb-3 gap-2",children:(0,t.jsx)("input",{type:"text",className:"form-control w-md-50",placeholder:"Cari nama atau NIS...",value:a,onChange:e=>c(e.target.value)})}),(0,t.jsxs)("div",{className:"row g-3",children:[0===w.length&&(0,t.jsx)("div",{className:"col-12 text-center",children:"Tidak ada siswa"}),w.map(e=>(0,t.jsx)("div",{className:"col-12 col-sm-6 col-lg-4",children:(0,t.jsxs)("div",{className:"card shadow-sm",children:[e.photo&&(0,t.jsx)("img",{src:e.photo,alt:"Foto Siswa",className:"card-img-top",style:{height:"180px",objectFit:"cover"}}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h5",{className:"card-title",children:e.name}),(0,t.jsxs)("p",{className:"card-text",children:["NIS: ",e.nis]}),(0,t.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[(0,t.jsx)(d(),{href:"/admin/students/edit/".concat(e.id),className:"btn btn-sm btn-warning flex-grow-1",children:"Edit"}),(0,t.jsx)("button",{className:"btn btn-sm btn-danger flex-grow-1",onClick:()=>u(e.id),children:"Hapus"})]})]})]})},e.id))]}),j>1&&(0,t.jsx)("nav",{className:"mt-4",children:(0,t.jsx)("ul",{className:"pagination justify-content-center flex-wrap",children:[...Array(j)].map((e,s)=>(0,t.jsx)("li",{className:"page-item ".concat(m===s+1?"active":""),children:(0,t.jsx)("button",{className:"page-link",onClick:()=>o(s+1),children:s+1})},s))})})]})]})})}},40482:(e,s,a)=>{"use strict";a.d(s,{A:()=>d});var t=a(37876),n=a(48230),i=a.n(n),l=a(89099),r=a(10323),c=a(14232);function d(){let e=(0,l.useRouter)();(0,r.xI)();let[s,a]=(0,c.useState)(!1),[n,d]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let e=()=>{d(window.innerWidth<992),window.innerWidth>=992&&a(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.jsxs)(t.Fragment,{children:[n&&(0,t.jsx)("button",{style:{position:"absolute",right:"0px"},className:"btn btn-dark m-2",onClick:()=>a(!s),children:"â˜° Menu"}),(0,t.jsxs)("div",{className:"bg-dark text-light position-fixed vh-100 p-3 transition",style:{width:"220px",zIndex:1e3,top:"0px",left:s?"0":"-240px",transition:"left 0.3s ease"},children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h5",{children:"SIS Dashboard"})}),(0,t.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:[{name:"Dashboard",href:"/dashboard"},{name:"Kelas",href:"/classes"},{name:"Siswa",href:"/admin/students/siswa"},{name:"Absensi",href:"/attendance"},{name:"Rekap",href:"/reports"}].map(s=>(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(i(),{href:s.href,className:"nav-link text-light ".concat(e.pathname===s.href?"active bg-primary":""),children:s.name})},s.href))})]})]})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=5840)),_N_E=e.O()}]);