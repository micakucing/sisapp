(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[375],{3570:(s,e,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/task/[id]",function(){return a(27273)}])},27273:(s,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var i=a(37876),t=a(14232),n=a(89099),l=a(20485),d=a(98467);function r(){let{id:s}=(0,n.useRouter)().query,[e,a]=(0,t.useState)([]),[r,c]=(0,t.useState)(null),[u,h]=(0,t.useState)(!0),o=async()=>{var e;s&&(c((null==(e=(await (0,l.GG)((0,l.rJ)(d.db,"tasks"))).docs.find(e=>e.id===s))?void 0:e.data())||null),a((await (0,l.GG)((0,l.rJ)(d.db,"tasks",s,"submissions"))).docs.map(s=>({id:s.id,...s.data()}))),h(!1))};(0,t.useEffect)(()=>{o()},[s]);let x=async(e,a)=>{if(""===a||isNaN(a))return alert("Masukkan nilai valid");await (0,l.mZ)((0,l.H9)(d.db,"tasks",s,"submissions",e),{score:Number(a),status:"Dinilai"}),o()};return u?(0,i.jsx)("p",{children:"Loading..."}):(0,i.jsxs)("div",{className:"container py-5",children:[(0,i.jsxs)("h2",{className:"mb-4",children:["Nilai Tugas: ",(null==r?void 0:r.title)||"-"]}),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsxs)("table",{className:"table table-bordered",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Siswa ID"}),(0,i.jsx)("th",{children:"Jawaban"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Score"}),(0,i.jsx)("th",{children:"Aksi"})]})}),(0,i.jsx)("tbody",{children:e.map(s=>{var e;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:s.studentId}),(0,i.jsx)("td",{children:s.answer}),(0,i.jsx)("td",{children:s.status}),(0,i.jsx)("td",{children:null!=(e=s.score)?e:"-"}),(0,i.jsxs)("td",{children:["Terkirim"===s.status&&(0,i.jsxs)("div",{className:"d-flex gap-2",children:[(0,i.jsx)("input",{type:"number",placeholder:"Nilai",className:"form-control form-control-sm",style:{width:"80px"},onChange:e=>s.tempScore=e.target.value}),(0,i.jsx)("button",{className:"btn btn-success btn-sm",onClick:()=>x(s.id,s.tempScore),children:"Nilai"})]}),"Dinilai"===s.status&&(0,i.jsx)("span",{className:"badge bg-success",children:"Sudah Dinilai"})]})]},s.id)})})]})})]})}}},s=>{s.O(0,[636,593,792],()=>s(s.s=3570)),_N_E=s.O()}]);