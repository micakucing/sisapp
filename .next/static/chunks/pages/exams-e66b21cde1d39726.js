(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[104],{70499:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/exams",function(){return s(89259)}])},89259:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>n});var t=s(37876),c=s(14232),d=s(20485),r=s(98467),l=s(48230),i=s.n(l);function n(e){let{studentId:a,kelasId:s}=e,[l,n]=(0,c.useState)([]),[m,u]=(0,c.useState)([]),[o,x]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{(async()=>{try{if(!a){console.warn("Student ID belum tersedia"),x(!1);return}let e=(0,d.rJ)(r.db,"exams");s&&(e=(0,d.P)(e,(0,d._M)("kelasId","==",s)));let t=(await (0,d.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));n(t);let c=(await (0,d.GG)((0,d.P)((0,d.rJ)(r.db,"examResults"),(0,d._M)("studentId","==",a)))).docs.map(e=>({id:e.id,...e.data()}));u(c),x(!1)}catch(e){console.error("Error fetching exams:",e),x(!1)}})()},[s,a]),o)?(0,t.jsx)("p",{children:"Loading..."}):0===l.length?(0,t.jsx)("p",{className:"text-center mt-5",children:"Belum ada ujian tersedia."}):(0,t.jsxs)("div",{className:"container py-5",children:[(0,t.jsx)("h2",{className:"mb-4",children:"Daftar Ujian"}),(0,t.jsx)("div",{className:"row g-3",children:l.map(e=>{let a=m.some(a=>a.examId===e.id);return(0,t.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,t.jsx)("div",{className:"card shadow-sm h-100",children:(0,t.jsxs)("div",{className:"card-body d-flex flex-column",children:[(0,t.jsx)("h5",{className:"card-title",children:e.title}),(0,t.jsx)("p",{className:"card-text",children:e.description}),(0,t.jsxs)("p",{className:"card-text",children:["Durasi: ",e.duration," menit"]}),(0,t.jsxs)("p",{className:"card-text",children:["Status:"," ",(0,t.jsx)("span",{className:a?"text-success":"text-warning",children:a?"Selesai":"Belum Selesai"})]}),(0,t.jsx)(i(),{href:"/exam/".concat(e.id),className:"btn mt-auto ".concat(a?"btn-secondary disabled":"btn-primary"),children:"Mulai Ujian"})]})})},e.id)})})]})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=70499)),_N_E=e.O()}]);