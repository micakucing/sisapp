(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{65298:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(37876),n=s(14232),i=s(89099),r=s(20485),l=s(98467);function d(e){var a,s;let{studentId:d}=e,{id:u}=(0,i.useRouter)().query,[c,o]=(0,n.useState)(null),[m,b]=(0,n.useState)(""),[h,w]=(0,n.useState)([]);(0,n.useEffect)(()=>{u&&(async()=>{let e=await (0,r.x7)((0,r.H9)(l.db,"tasks",u));e.exists()&&o(e.data()),w((await (0,r.GG)((0,r.rJ)(l.db,"tasks",u,"submissions"))).docs.map(e=>({id:e.id,...e.data()})))})()},[u]);let p=async()=>{if(!m)return alert("Isi jawaban");await (0,r.gS)((0,r.rJ)(l.db,"tasks",u,"submissions"),{studentId:d,answer:m,status:"Terkirim",score:null,timestamp:new Date}),alert("Tugas berhasil dikirim"),b("")};if(!c)return(0,t.jsx)("p",{children:"Loading..."});let x=h.find(e=>e.studentId===d);return(0,t.jsxs)("div",{className:"container py-5",children:[(0,t.jsx)("h2",{children:c.title}),(0,t.jsx)("p",{children:c.description}),(0,t.jsxs)("p",{children:["Deadline: ",(null==(a=c.dueDate)?void 0:a.toDate)?c.dueDate.toDate().toLocaleDateString():new Date(c.dueDate).toLocaleDateString()]}),x?(0,t.jsxs)("div",{className:"alert alert-success",children:["Status: ",x.status," | Score: ",null!=(s=x.score)?s:"-"]}):(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("textarea",{className:"form-control mb-2",rows:5,value:m,onChange:e=>b(e.target.value),placeholder:"Jawaban anda"}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:p,children:"Kirim Jawaban"})]})]})}},71748:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/students/task/[id]",function(){return s(65298)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=71748)),_N_E=e.O()}]);